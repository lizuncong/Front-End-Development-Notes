### Web安全

#### 传统的安全问题
- XSS 跨站脚本攻击，是一种代码注入攻击。分为存储型XSS攻击和反射型XSS攻击。
    + 开发者没有对用户输入的文本进行核实的过滤，就贸然插入到HTML中，就很容易造成注入漏洞。攻击者利用漏洞，构造出恶意的代码指令，进而利用恶意代码危害数据安全。
    + 存储型XSS。恶意代码提交到目标网站的数据库中。当用户打开目标网站时，网站服务端将恶意代码从数据库中取出，拼接在HTML中返回给浏览器。
    + 反射型XSS。攻击者构造出包含恶意代码的URL，用户打开这个URL，网站服务端将恶意代码从URL中取出，拼接在HTML中返回给浏览器。
    + 反射型XSS和存储型XSS的区别是：存储型XSS的恶意代码存在数据库里，反射型XSS的恶意代码存在URL里。
    + 恶意代码来源：用户输入内容，第三方链接，URL参数，POST参数等。
    + 防护：
        + 对用户输入进行过滤或者转义。
- CSRF 跨站请求伪造
    + 简单点就是，用户登录了A网站，然后点了个奇怪的链接跳到了B网站，B网站所在的页面含有img请求或者可执行脚本，向A网站发送了一个请求：a.com/act=xx。
      坑人的是，浏览器在B网站也能携带A网站的cookie，A网站的服务器接受到请求后，对请求进行验证，发现cookie信息确实是A网站的，因此A网站的服务器执行了相应的后端逻辑。攻击完成。
    + 特点：利用了浏览器能够携带第三方cookie的漏洞，整个过程攻击者并不能直接获取到受害者的cookie等信息，仅仅是”冒用“。这种请求可以使用多种方式：
      图片URL，超链接，Form提交等。
    + 防护：
        + 阻止不明外域的访问：同源检测，Samesite Cookie。
            + 同源检测。服务器检查http请求头中的Origin Header和Referer Header字段
        + 提交时要求附加本域才能获取的信息：CSRF Token，双重Cookie验证。
            + Token不存在cookie中，可以存在请求参数中。
- 点击劫持



#### 新型安全问题
- 网络劫持
- 非法调用Hybrid API

#### 增强安全性的新技术
- CSP。Content Security Policy
- Same-Site Cookies。

参考：
https://tech.meituan.com/2018/09/27/fe-security.html

