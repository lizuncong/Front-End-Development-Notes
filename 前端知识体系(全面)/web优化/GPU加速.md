### CSS3硬件加速(GPU)
***GPU加速不会触发重绘！！！***
CSS3 硬件加速又叫做GPU加速，是利用GPU进行渲染，减少CPU操作的一种优化方案。由于GPU中的transform等CSS属性**不会触发repaint**，
所以能大大提高网页的性能

### 开启GPU加速
CSS 中的以下几个属性能触发硬件加速：
- transform
- opacity
- filter
- will-change

### 要注意的问题
- 过多地开启硬件加速可能会耗费较多的内存，因此什么时候开启硬件加速，给多少元素开启硬件加速，需要用测试结果说话。
- GPU渲染会影响字体的抗锯齿效果。这是因为 GPU 和 CPU 具有不同的渲染机制，即使最终硬件加速停止了，文本还是会在动画期间显示得很模糊。


### 动画与图层
浏览器在获取 render tree后，渲染树中包含了大量的渲染元素，每一个渲染元素会被分到一个图层中，每个图层又会被加载到 GPU 形成渲染纹理。
**GPU中transform是不会触发 repaint 的**，这一点非常类似 3D 绘图功能，最终这些使用 transform 的图层都会由独立的合成器进程进行处理。

过程如下：
render tree -> 渲染元素 -> 图层 -> GPU 渲染 -> 浏览器复合图层 -> 生成最终的屏幕图像。

在 GPU 渲染的过程中，一些元素会因为符合了某些规则，而被提升为独立的层（黄色边框部分），一旦独立出来，就不会影响其它 DOM 的布局，
所以我们可以利用这些规则，***将经常变换的 DOM 主动提升到独立的层，那么在浏览器的一帧运行中，就可以减少 Layout 和 Paint 的时间了***。

### 触发创建独立图层的因素
- 3D 或者透视变换（perspective，transform） 的 CSS 属性。
- 使用加速视频解码的 video 元素。
- 拥有 3D（WebGL） 上下文或者加速 2D 上下文的 canvas 元素。
- 混合插件（Flash)。
- 对自己的 opacity 做 CSS 动画或使用一个动画 webkit 变换的元素。
- 拥有加速 CSS 过滤器的元素。
- 元素有一个包含复合层的后代节点(换句话说，就是一个元素拥有一个子元素，该子元素在自己的层里)。
- 元素有一个兄弟元素在复合图层渲染，并且该兄弟元素的 z-index 较小，那这个元素也会被应用到复合图层。


